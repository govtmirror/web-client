<!--
@license
Copyright (c) 2015 Dean Wagner (wagner@nmb.gov). All rights reserved.
-->

<dom-module id="seed-list-detail">
    <style>
      :host {
        display: block;
      }

      .nav {
        border-right: 1px solid #ccc;
      }

      .list-panel {
        background-color: #fafafa;
      }

      .list-panel {
        --paper-header-panel-standard-container: {
          border-right: 1px solid #ccc;
        };
      }

      paper-toolbar {
        background-color: #42A5F5;
      }

      .list {
        padding: 0;
      }

      .list paper-item {
        height: 80px;
        border-bottom: 1px solid #dedede;
        background-color: #fafafa;
      }

      .main-drawer-panel:not([narrow]) [list-toggle] {
        display: none;
      }

/*      .content {
        height: 3000px;
      }*/
    </style>
  <template>
      <paper-dialog id="helpDialog">
      <h2>Help with Cases</h2>
      <paper-dialog-scrollable>
        <ul>
          <li>Click on one of the cases displayed on the left</li>
          <li>The details will show up on the right</li>
          <li>it's that simple!</li>
        </ul>
      </paper-dialog-scrollable>
      <div class="buttons">
        <paper-button dialog-dismiss>Cancel</paper-button>
        <paper-button dialog-confirm>Accept</paper-button>
      </div>
    </paper-dialog>
    <paper-drawer-panel id="mainDrawerPanel" class="main-drawer-panel" main responsive-width="600px"
          drawer-width="[[_computeListWidth(_isMobile)]]" drawer-toggle-attribute="list-toggle"
          narrow="{{_isMobile}}">

        <paper-header-panel class="list-panel" drawer>

          <!-- List Toolbar -->
          <paper-toolbar>
            <h2>Cases <span>{{datasink}}</span></h2>
          </paper-toolbar>

          <!-- List -->
          <paper-menu class="list" 
              on-iron-activate="_listTap" 
              selected="{{selectedindex}}">
            <template is="dom-repeat" items="{{dataitems}}">
              <paper-item>{{item.name}}</paper-item>
            </template>
          </paper-menu>

        </paper-header-panel>

        <paper-header-panel class="content-panel" main>

          <!-- Main Toolbar -->
          <paper-toolbar>
            <paper-icon-button icon="arrow-back" list-toggle></paper-icon-button>
          </paper-toolbar>

          <!-- Main Content -->
          <div class="content">
            <h2>This is Content</h2>
            <p>the new item is <span>{{newt.name}}</span>, who is <span>{{newt.age}}</span> years old.</p>
            <p>the old item is <span>{{oldt.name}}</span>, who is <span>{{oldt.age}}</span> years old.</p>
          </div>

        </paper-header-panel>

      </paper-drawer-panel>

  </template>
</dom-module>

  <script>
  (function() {
    Polymer({
      is: 'seed-list-detail',

      _computeListWidth: function(isMobile) {
        // when in mobile screen size, make the list be 100% width to cover the whole screen
        return isMobile ? '100%' : '33%';
      },

      _listTap: function() {
        this.$.mainDrawerPanel.closeDrawer();
      },

      helpMe: function () {
        this.$.helpDialog.open();
      },
      shutDown: function () {
        console.log("shutDown seed-list-detail");
      },
      setUp: function () {
        console.log("setUp listDetail");
        this.fire('setapptitle', {title: "Special Title for List-detail"});
      },

      properties: {
        dataitems: {
          type: Array,
          value: [
            {"name":"johnny","age":"24"},
            {"name":"peggy","age":"21"},
            {"name":"susan","age":"25"},
            {"name":"george","age":"28"},
            {"name":"Bob","age":"22"},
            {"name":"julio","age":"25"},
            {"name":"tomato","age":"23"},
            {"name":"pickle","age":"28"},
            {"name":"burger","age":"19"},
            {"name":"Bambi","age":"4"},
            {"name":"Bambi's Mom","age":"15"},
            {"name":"johnny","age":"24"},
            {"name":"peggy","age":"21"},
            {"name":"susan","age":"25"},
            {"name":"george","age":"28"},
            {"name":"Bob","age":"22"},
            {"name":"julio","age":"25"},
            {"name":"tomato","age":"23"},
            {"name":"pickle","age":"28"},
            {"name":"burger","age":"19"},
            {"name":"Bambi","age":"4"},
            {"name":"Bambi's Mom","age":"15"}
          ]
        },
        selectedindex: {
          type: Number,
          observer: '_selectedIndexChanged'
        },
        newt: Object,
        oldt: Object
      },

      _selectedIndexChanged: function(newIndex, oldIndex) {
        if (typeof newIndex === 'number') {
          this.newt = this.dataitems[newIndex];
          console.log('You selected item #' + newIndex + '.');
        }
        if (typeof oldIndex === 'number') {
          this.oldt = this.dataitems[oldIndex];
          console.log('Before, you had item #' + oldIndex + ' selected.');
      }
    }


      
    });
    })();
  </script>